$(function(){function a(){requestAnimationFrame(a),c&&(d.position.z-=.05,d.position.x+=.05,l.position.set(d.position.x,d.position.y,d.position.z),f.render(e,d))}function b(){d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight)}var c,d,e,f,g,h,j,k,l,m,n,o,p,q;for(c=!0,e=new THREE.Scene,d=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),f=new THREE.WebGLRenderer,f.setSize(window.innerWidth,window.innerHeight),f.setClearColor(4671303),e.fog=new THREE.FogExp2(16777215,.002),g=new THREE.PlaneBufferGeometry(410,410,4,4),h=new THREE.MeshPhongMaterial({color:4671303}),h.shininess=100,j=new THREE.Mesh(g,h),e.add(j),j.position.x=140,j.position.y=0,j.position.z=-150,j.rotation.x=-1.55,d.position.x=-2,d.position.y=24,d.position.z=-4,d.rotation.y=-.785398163,d.rotation.z=-.28,d.rotation.x=-.4,k=new THREE.DirectionalLight(4671303,6),k.position.set(-20,15,30),e.add(k),l=new THREE.PointLight(16777215,10,32),e.add(l),m=[],n=new THREE.BoxGeometry(4,4,4),o=new THREE.MeshPhongMaterial({color:4671303}),o.shininess=100,p=0,r=0;r<35;r++)for(p-=10,i=0;i<35;i++)m[i]=new THREE.Mesh(n,o),m[i].position.x=10*i,m[i].position.y=0,m[i].position.z=p,q=Math.ceil(6*Math.random()+3),m[i].scale.y=q,e.add(m[i]);a(),$("#WebGLoutput").append(f.domElement),window.addEventListener("resize",b,!1),$(window).scroll(function(){var a=$(this).scrollTop();c=a>=$("#WebGLoutput").height()?!1:!0})});