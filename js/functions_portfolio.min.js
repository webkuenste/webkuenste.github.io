$(function(){function a(){requestAnimationFrame(a),d.position.z-=.05,d.position.x+=.05,k.position.set(d.position.x,d.position.y,d.position.z),e.render(c,d)}function b(){d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)}var c=new THREE.Scene,d=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),e=new THREE.WebGLRenderer;e.setSize(window.innerWidth,window.innerHeight),e.setClearColor(4671303),c.fog=new THREE.FogExp2(16777215,.002);var f=new THREE.PlaneBufferGeometry(410,410,4,4),g=new THREE.MeshPhongMaterial({color:4671303});g.shininess=100;var h=new THREE.Mesh(f,g);c.add(h),h.position.x=140,h.position.y=0,h.position.z=-150,h.rotation.x=-1.55,d.position.x=-2,d.position.y=24,d.position.z=-4,d.rotation.y=-.785398163,d.rotation.z=-.28,d.rotation.x=-.4;var j=new THREE.DirectionalLight(4671303,6);j.position.set(-20,15,30),c.add(j);var k=new THREE.PointLight(16777215,10,32);c.add(k);var l=[],m=new THREE.BoxGeometry(4,4,4),n=new THREE.MeshPhongMaterial({color:4671303});n.shininess=100;var l=[],o=0;for(r=0;r<35;r++)for(o-=10,i=0;i<35;i++){l[i]=new THREE.Mesh(m,n),l[i].position.x=10*i,l[i].position.y=0,l[i].position.z=o;var p=Math.ceil(6*Math.random()+3);l[i].scale.y=p,c.add(l[i])}a(),$("#WebGLoutput").append(e.domElement),window.addEventListener("resize",b,!1)});