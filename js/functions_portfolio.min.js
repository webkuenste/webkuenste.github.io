$(function(){function a(){requestAnimationFrame(a),c.position.z-=.05,c.position.x+=.05,j.position.set(c.position.x,c.position.y,c.position.z),d.render(b,c)}var b=new THREE.Scene,c=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),d=new THREE.WebGLRenderer;d.setSize(window.innerWidth,window.innerHeight),d.setClearColor(4671303),b.fog=new THREE.FogExp2(16777215,.002);var e=new THREE.PlaneBufferGeometry(410,410,4,4),f=new THREE.MeshPhongMaterial({color:4671303});f.shininess=100;var g=new THREE.Mesh(e,f);b.add(g),g.position.x=140,g.position.y=0,g.position.z=-150,g.rotation.x=-1.55,c.position.x=-2,c.position.y=24,c.position.z=-4,c.rotation.y=-.785398163,c.rotation.z=-.28,c.rotation.x=-.4;var h=new THREE.DirectionalLight(4671303,6);h.position.set(-20,15,30),b.add(h);var j=new THREE.PointLight(16777215,10,32);b.add(j);var k=[],l=new THREE.BoxGeometry(4,4,4),m=new THREE.MeshPhongMaterial({color:4671303});m.shininess=100;var k=[],n=0;for(r=0;r<35;r++)for(n-=10,i=0;i<35;i++){k[i]=new THREE.Mesh(l,m),k[i].position.x=10*i,k[i].position.y=0,k[i].position.z=n;var o=Math.ceil(6*Math.random()+3);k[i].scale.y=o,b.add(k[i])}a(),$("#WebGLoutput").append(d.domElement)});